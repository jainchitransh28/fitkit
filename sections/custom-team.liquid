{{ 'custom-team.css' | asset_url | stylesheet_tag }}
<div class="team_section">
   {% if section.settings.main_heading != blank %}
    <div class="heading_row title_col text_{{ section.settings.desktop_content_alignment }}">
      <div class="page-width">
          <h2>
            {{ section.settings.main_heading }}
          </h2>
        {% if section.settings.head_line != blank %}
          <div class="sub_description">
            {{ section.settings.head_line }}
          </div>
        {% endif %}
      </div>
    </div>
  {% endif %}

  <div class="member_mains">
    <div class="slider team_slider_center"> 
      {% for block in section.blocks %}
          <div class="team_slide item__{{ block.id }}" {{ block.shopify_attributes }}>
            <div class="member_img">
              {% if block.settings.image != blank %} 
                
                  <img src="{{ block.settings.image | image_url }}" alt="{{ shop.name }}" loading="lazy">
                  {% if block.settings.video_url != blank %}
                      <a data-fancybox href="#myVideo--{{ block.id }}">
                  {% endif %}
                  {% if block.settings.video_url != blank %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="28.965" height="28.965" viewBox="0 0 28.965 28.965" class="play_icon">
                    <g id="Group_333" data-name="Group 333" transform="translate(-327.518 -303.291)">
                    <g id="Group_158" data-name="Group 158">
                    <g id="Ellipse_35" data-name="Ellipse 35" transform="translate(327.518 303.291)" fill="none" stroke="#fff" stroke-width="2">
                    <ellipse cx="14.482" cy="14.482" rx="14.482" ry="14.482" stroke="none"/>
                    <ellipse cx="14.482" cy="14.482" rx="13.482" ry="13.482" fill="none"/>
                    </g>
                    <path id="Polygon_11" data-name="Polygon 11" d="M4.512,0,9.024,7.87H0Z" transform="translate(347.404 313.261) rotate(90)" fill="#fff"/>
                    </g>
                    </g>
                    </svg>
                  {% endif %}
                {% if block.settings.video_url != blank %}
                  </a>
                {% endif %}
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
              {% endif %}
            </div>
          </div>
      {% endfor %}
    </div>
  </div>
   {%- if section.settings.button_label_1 != blank -%}
    <div class="button_block text_center">
      <div class="page-width">
          <a {% if section.settings.button_link_1 == blank %} role="link" aria-disabled="true"{% else %} 
          href="{{ section.settings.button_link_1 }}"{% endif %}  target="_blank"
          class="button bigger{% if section.settings.button_style_secondary_1 %} button--secondary{% else %} button--primary{% endif %}">
          {{ section.settings.button_label_1 | escape }}
          </a>  
      </div>
    </div>
    {%- endif -%}           
</div>


    {% comment %}
      {% if block.settings.video_url != blank %}
    <div class="video_popup" id="myVideo--{{ block.id }}" style="display:none;">
    <video  controls {{ block.shopify_attributes }}>
      <source src="{{ block.settings.video_url }}" type="video/mp4">
      <source src="{{ block.settings.video_url }}" type="video/webm">
      <source src="{{ block.settings.video_url }}" type="video/ogg">
    <source src="{{ block.settings.video_url }}" type="video/mov">
    
      Your browser doesn't support HTML5 video tag.
  </video>
    </div>

 {% endif %}
    {% endcomment %}

{% for block in section.blocks %}
  
 {% if block.settings.video_url != blank %}
  <div class="video_popup" id="myVideo--{{ block.id }}" style="display:none;">
     

    <iframe width="580" height="375" src="https://www.youtube.com/embed/{{ block.settings.video_url}}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>                  
    
  {% endif %}
                      
                      
{% endfor %}                      



{% style %}
 {% for block in section.blocks %}
    .item__{{ block.id }} .member_img {
        width: 390px;
        margin: 0 auto;
        position: relative;
        max-width: 100%;
    }
    .item__{{ block.id }}.team_slide {
        padding: 0px 35px;
        opacity: 0.20;
    }
    .item__{{ block.id }}.team_slide.slick-active {
        opacity: 1;
    }
    .item__{{ block.id }} .member_img img {
        border-radius: 60px;
    }
    .item__{{ block.id }} .member_img .play_icon {
        position: absolute;
        top: 50%;
        max-width: 150px;
        height: 150px;
        width: 100%;
        left: 50%;
        -o-transform: translate(-50%, -50%);
        -moz-transform: translate(-50%, -50%); 
        -ms-transform: translate(-50%, -50%); 
        -webkit-transform: translate(-50%, -50%); 
        transform: translate(-50%, -50%); 
    }
   #myVideo--{{ block.id }} {
/*       height: auto !important;
      width: auto !important; */
      padding: 0px;
    }
   #myVideo--{{ block.id }} iframe {
     display: block;
   max-width: 100%;
   }
    /*      #myVideo--{{ block.id }} video {
      height: calc(100vh - 88px);
      display: block;
    } */
    .fancybox-slide--html #myVideo--{{ block.id }} .fancybox-close-small {
      padding: 0;
      right: 5px;
      top: 5px;
      background-color: #ffffff;
      opacity: 1;
      border-radius: 50px;
      width: 30px;
      height: 30px;
      box-shadow: 0 0 5px 2px rgba(0,0,0,0.1); 
    }
                      
    @media screen and (max-width: 1680.98px) {
      .item__{{ block.id }}.team_slide {
        padding: 0px 25px;
      }
      .item__{{ block.id }} .member_img .play_icon {
        max-width: 120px;
        height: 120px;
      }
      .item__{{ block.id }} .member_img {
        width: 315px;
      }
      .item__{{ block.id }} .member_img img {
        border-radius: 40px;
      }
    }


    @media screen and (max-width: 767.98px) {
      .item__{{ block.id }} .member_img img {
        border-radius: 30px;
      }
      .item__{{ block.id }}.team_slide {
        padding: 0px 10px;
      }
      .item__{{ block.id }} .member_img {
        width: 300px;
      }
    }
  {% endfor %}
  
{% endstyle %}


                      
{% schema %}
  {
    "name": "Custom Team",
    "settings": [
         {
            "type": "header",
            "content": "Content"
        },
        {
            "type": "text",
            "id": "main_heading",
            "label": "Heading",
            "default": "Heading"
        },
        {
            "type": "richtext",
            "id": "head_line",
            "label": "Description",
            "default": "<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, </p>" 
        },
        {
          "type": "select",
          "id": "desktop_content_alignment",
          "options": [
            {
              "value": "left",
              "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__1.label"
            },
            {
              "value": "center",
              "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__2.label"
            },
            {
              "value": "right",
              "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__3.label"
            }
          ],
        "default": "center",
        "label": "Text Alignment"
      },
      {
          "type": "header",
          "content": "Button"
      },
      {
          "type": "text",
          "id": "button_label_1",
          "default": "Button label",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_label_1.label",
          "info": "t:sections.image-banner.blocks.buttons.settings.button_label_1.info"
      },
      {
          "type": "url",
          "id": "button_link_1",
          "label": "t:sections.image-banner.blocks.buttons.settings.button_link_1.label"
      },
      {
          "type": "checkbox",
          "id": "button_style_secondary_1",
          "default": false,
          "label": "t:sections.image-banner.blocks.buttons.settings.button_style_secondary_1.label"
      }
    ],
      "blocks": [
       {
         "name": "Slide",
         "type": "slide",
         "settings": [
           {
             "type": "image_picker",
             "id": "image",
             "label": "Image"
           },
           {
             "type": "header",
             "content": "Modal Video"
           },
           {
              "type": "text",
              "id": "video_url",
              "label": "Youtube Video ID"
           }
         ]
       }
    ],
    "presets": [
        {
          "name": "Custom Team",
           "blocks": [
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
           {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          },
          {
            "type": "slide"
          }
        ]
        }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
  $('.team_slider_center').slick({
   centerPadding: '60px',
  centerMode: true,
  slidesToShow: 3,
  arrows: false,
  dots: false,
  variableWidth: true,
  infinite: true,
  autoplay: true,
  autoplaySpeed: 1500,
  responsive: [
    {
      breakpoint: 1199,
      settings: {
        centerMode: true,
        centerPadding: '0px',
        slidesToShow: 1
      }
    }
  ]
});
{% endjavascript %}